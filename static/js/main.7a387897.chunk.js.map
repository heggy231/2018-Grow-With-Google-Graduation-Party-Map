{"version":3,"sources":["Components/errorboundary.js","Components/map.js","Components/venuelist.js","App.js","serviceWorker.js","index.js"],"names":["ErrorBoundary","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","hasError","react_default","a","createElement","children","error","Component","window","gm_authFailure","alert","process","REACT_APP_googleMapsAPI","MapContainer","mapReady","map","setTimeout","addMarkers","getEventInfo","searchResults","headers","Headers","request","Request","method","fetch","then","res","ok","json","Error","concat","status","events","forEach","result","index","event","city","name","lat","lng","time","host","link","push","catch","err","getResults","onMapClicked","infoWindow","close","allMarkers","marker","setAnimation","onInfoWindowClose","updateQuery","query","_this2","markers","google","maps","InfoWindow","results","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_loop","value","Marker","position","title","animation","infoContent","e","addListener","getAnimation","setContent","open","onMarkerClick","_iterator","Symbol","iterator","next","done","return","getMap","errorboundary","dist","aria-label","className","role","initialCenter","onClick","onReady","zoom","GoogleApiWrapper","apiKey","VenueList","venues","htmlFor","id","type","placeholder","onChange","target","venue","key","onListClick","App","input","setState","menuOpen","filterList","clickedPlace","setMarkerVisibility","queryUpperCase","toUpperCase","items","document","querySelectorAll","visiblePlaces","item","innerHTML","indexOf","style","display","changeAmp","replace","trim","placesOnList","find","includes","setVisible","activeMarker","triggerMarkerClick","trigger","mkr","showingInfoWindow","showAllMarkers","color","tabIndex","BurgerMenu","noOverlay","isOpen","width","venuelist","bind","ref","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","ReactDOM","render","src_App_0","getElementById","URL","href","origin","addEventListener","response","contentType","get","ready","unregister","reload","checkValidServiceWorker"],"mappings":"qRAoBeA,cAjBb,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KACDQ,MAAQ,CAAEC,UAAU,GAFRR,wEAUjB,OAAIG,KAAKI,MAAMC,SACNC,EAAAC,EAAAC,cAAA,wDAEFR,KAAKJ,MAAMa,4DARYC,GAC9B,MAAO,CAAEL,UAAU,UAPKM,aCE5BC,OAAOC,eAAiB,WACtBC,MAAM,6DAGcC,yFAAYC,wBAAlC,IAEMC,6MAKJC,SAAW,SAACtB,EAAMuB,GAEhBC,WAAW,WACTvB,EAAKwB,WAAWF,IACf,SAGLG,aAAe,WACb,IAAIC,EAAgB,GAEhBC,EAAU,IAAIC,QACdC,EAAU,IAAIC,QAFK,qCAEmB,CACxCC,OAAQ,MACRJ,YAGFK,MAAMH,GAASI,KAAK,SAAAC,GAClB,GAAKA,EAAIC,GAGP,OAAOD,EAAIE,OAFX,MAAMC,MAAK,qCAAAC,OAAuCJ,EAAIK,WAGpDN,KAAK,SAAAC,GACTA,EAAIM,OAAOC,QAAQ,SAACC,EAAQC,GAC1B,IAAIC,EAAQ,GACZA,EAAMC,KAAOH,EAAOG,KACpBD,EAAME,KAAOJ,EAAOI,KACpBF,EAAMG,IAAML,EAAOK,IACnBH,EAAMI,IAAMN,EAAOM,IACnBJ,EAAMK,KAAOP,EAAOO,KACpBL,EAAMM,KAAOR,EAAOQ,KACpBN,EAAMO,KAAOT,EAAOS,KACpBzB,EAAc0B,KAAKR,OAEpBS,MAAM,SAAAC,GACPrC,MAAM,wBAAyBqC,KAEjCtD,EAAKD,MAAMwD,WAAW7B,MA0CxB8B,aAAe,WACVxD,EAAKD,MAAM0D,YACZzD,EAAKD,MAAM0D,WAAWC,QAExB1D,EAAKD,MAAM4D,WAAWlB,QAAQ,SAAAmB,GAC5BA,EAAOC,aAAa,OACnB7D,EAAKD,MAAM+D,mBACd9D,EAAKD,MAAMgE,YAAY/D,EAAKD,MAAMiE,2FAxFlC7D,KAAKsB,kDA0CIH,GAAK,IAAA2C,EAAA9D,KACV+D,EAAU,GACRT,EAAa,IAAItD,KAAKJ,MAAMoE,OAAOC,KAAKC,WAE9C,GAAGlE,KAAKJ,MAAMuE,QAAQ,KAAAC,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IACpB,IADoB,IACpBC,EADoBC,EAAA,eACXhC,EADW+B,EAAAE,MAEZjB,EAAS,IAAIK,EAAKlE,MAAMoE,OAAOC,KAAKU,OAAO,CAC/CC,SAAU,CAAChC,IAAKH,EAAMG,IAAKC,IAAKJ,EAAMI,KACtC1B,IAAKA,EACL0D,MAAOpC,EAAME,KACbmC,UAAW,IAEbf,EAAQd,KAAKQ,GACb,IAAMsB,EAAW,OAAA5C,OAAUM,EAAMC,KAAhB,mBAAAP,OAAsCM,EAAME,KAA5C,iBAAAR,OAAgEM,EAAMK,KAAtE,iBAAAX,OAA0FM,EAAMM,KAAhG,gBAAAZ,OAAmHM,EAAMO,KAAzH,mBACjB,CAAC,QAAS,aAAaV,QAAQ,SAAA0C,GAC7BvB,EAAOwB,YAAYD,EAAG,WACQ,OAA1BvB,EAAOyB,eACTzB,EAAOC,aAAa,MAEpBD,EAAOC,aAAa,GAEpBJ,EAAW6B,WAAWJ,GACtBzB,EAAW8B,KAAKjE,EAAKsC,GACrBK,EAAKlE,MAAMyF,cAAc5C,EAAOgB,EAAQH,KACvC,KAELG,EAAOwB,YAAY,WAAY,WAC7BxB,EAAOC,aAAa,MACpBI,EAAKlE,MAAM+D,sBAEbL,EAAW2B,YAAY,aAAc,WACnCxB,EAAOC,aAAa,MACpBI,EAAKlE,MAAM+D,uBA3Bf2B,EAAkBtF,KAAKJ,MAAMuE,QAA7BoB,OAAAC,cAAApB,GAAAI,EAAAc,EAAAG,QAAAC,MAAAtB,GAAA,EAAqCK,IADjB,MAAAtB,GAAAkB,GAAA,EAAAC,EAAAnB,EAAA,YAAAiB,GAAA,MAAAkB,EAAAK,QAAAL,EAAAK,SAAA,WAAAtB,EAAA,MAAAC,IAgCtBtE,KAAKJ,MAAMgG,OAAO7B,EAAST,EAAYnC,EAAKnB,KAAKJ,MAAMoE,yCAcvD,OAAGpD,OAAOoD,OAEN1D,EAAAC,EAAAC,cAACqF,EAAD,KACEvF,EAAAC,EAAAC,cAACsF,EAAA,IAAD,CACEC,aAAW,MACXC,UAAU,MACVC,KAAK,cACLjC,OAAQhE,KAAKJ,MAAMoE,OACnBkC,cAAe,CAACtD,IAAI,UAAWC,KAAK,WACpCsD,QAASnG,KAAKqD,aACd+C,QAASpG,KAAKkB,SACdmF,KAAM,KAMV/F,EAAAC,EAAAC,cAAA,+CA/GmBG,aAqHZ2F,6BAAiB,CAC9BC,OAAM,2CADOD,CAEZrF,GCnGYuF,EA5BG,SAAC5G,GACjB,IAAM6G,EAAS7G,EAAM6G,OACrB,OACEnG,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAOwF,UAAU,QAAQU,QAAQ,aAAjC,cACEpG,EAAAC,EAAAC,cAAA,SACEmG,GAAG,YACHC,KAAK,OACLC,YAAY,gCACZnC,MAAO9E,EAAMiE,MACbiD,SAAU,SAAArE,GAAK,OAAI7C,EAAMgE,YAAYnB,EAAMsE,OAAOrC,UAEpDpE,EAAAC,EAAAC,cAAA,MAAIwF,UAAU,cACZS,GAAWA,EAAOtF,IAAI,SAAC6F,EAAOxE,GAAR,OACtBlC,EAAAC,EAAAC,cAAA,MAAIwF,UAAU,YAAYiB,IAAKzE,GAC7BlC,EAAAC,EAAAC,cAAA,UACEwF,UAAU,OACVrD,KAAMqE,EAAMtE,KACZuE,IAAKzE,EACL2D,QAAS,SAAA1D,GAAK,OAAI7C,EAAMsH,YAAYF,EAAOxE,KAASwE,EAAMtE,YCwKvDyE,cAtLb,SAAAA,EAAYvH,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAmH,IACjBtH,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAqH,GAAAhH,KAAAH,KAAMJ,KAeRgE,YAAc,SAACwD,GACVvH,EAAKO,MAAMkD,aACZzD,EAAKO,MAAMkD,WAAWC,QACtB1D,EAAKwH,SAAS,CACZxD,MAAOuD,EACPE,UAAU,GACTzH,EAAK0H,WAAWH,MAtBJvH,EA2BnBqH,YAAc,SAACF,GACbA,EAAQ,CAACA,GACTnH,EAAKwH,SAAS,CACZG,aAAcR,EACdM,UAAU,IAKZlG,WAAW,WACTvB,EAAK4H,oBAAoB,CAACT,EAAM,MAC/B,MAtCcnH,EAyCnB0H,WAAa,SAACH,GACZ,IAAMM,EAAiBN,EAAMO,cACvBC,EAAQC,SAASC,iBAAiB,SACpCC,EAAgB,GACpBH,EAAMtF,QAAQ,SAAA0F,GAGZ,GAAIA,EAAKC,UAAUN,cAAcO,QAAQR,IAAmB,EAAG,CAC7DM,EAAKG,MAAMC,QAAU,GACrB,IAAMC,EAAYL,EAAKC,UAAUK,QAAQ,QAAS,KAClDP,EAAc9E,KAAKoF,EAAUE,aAE7BP,EAAKG,MAAMC,QAAU,SAGzBvI,EAAKwH,SAAS,CACZmB,aAAcT,GACblI,EAAK4H,oBAAoBM,KA1DXlI,EA6DnB4H,oBAAsB,SAACT,GACrBnH,EAAKO,MAAMoD,WAAWiF,KAAK,SAAAhF,GAEzB,OAAIuD,EAAM0B,SAASjF,EAAOoB,MAAM0D,QACvB9E,EAAOkF,YAAW,GAChB9I,EAAKO,MAAMoH,eAEd,CAACR,EAAM,GAAGrE,MAAM+F,SAASjF,EAAOoB,MAAM0D,UACxC1I,EAAKwH,SAAS,CACZuB,aAAcnF,IAET5D,EAAKgJ,sBAKTpF,EAAOkF,YAAW,MA7EZ9I,EAkFnBgJ,mBAAqB,WACnBhJ,EAAKO,MAAM4D,OAAOC,KAAKxB,MAAMqG,QAAQjJ,EAAKO,MAAMwI,aAAc,UAnF7C/I,EAsFnBwF,cAAgB,SAACzF,EAAO6D,EAAQH,GAC9BzD,EAAKO,MAAMoD,WAAWlB,QAAQ,SAACyG,GAC1BtF,EAAOoB,QAAUkE,EAAIlE,OACtBkE,EAAIrF,aAAa,QAGrB7D,EAAKwH,SAAS,CACZuB,aAAcnF,EACd+D,aAAc5H,EACd0D,WAAYA,EACZgE,UAAU,EACV0B,mBAAmB,KAjGJnJ,EAqGnB8D,kBAAoB,WAClB9D,EAAKwH,SAAS,CACZuB,aAAc,GACdpB,aAAc,KACdlE,WAAY,KACZgE,UAAU,EACV0B,mBAAmB,GAClBnJ,EAAKoJ,iBA5GSpJ,EA+GnBoJ,eAAiB,WACfpJ,EAAKO,MAAMoD,WAAWlB,QAAQ,SAAAmB,GAC5BA,EAAOkF,YAAW,MAjHH9I,EAqHnB+F,OAAS,SAAC7B,EAAST,EAAYnC,EAAK6C,GAClCnE,EAAKwH,SAAS,CACZ7D,WAAYO,EACZT,WAAYA,EACZnC,IAAKA,EACL6C,OAAQA,KA1HOnE,EA8HnBuD,WAAa,SAAC7B,GACZ1B,EAAKwH,SAAS,CACZlD,QAAS5C,KA9HX1B,EAAKO,MAAQ,CACXwI,aAAc,GACdzE,QAAS,KACTX,WAAY,GACZgE,aAAc,KACdlE,WAAY,KACZnC,IAAK,KACLmG,UAAU,EACVkB,aAAc,GACd3E,MAAO,GACPmF,mBAAmB,GAZJnJ,wEAqIjB,OACES,EAAAC,EAAAC,cAAA,OAAKwF,UAAU,OACb1F,EAAAC,EAAAC,cAAA,OAAKwF,UAAU,aAAaC,KAAK,cAC/B3F,EAAAC,EAAAC,cAAA,cACEF,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,QAAM2H,MAAO,CAACe,MAAO,YAArB,KACA5I,EAAAC,EAAAC,cAAA,QAAM2H,MAAO,CAACe,MAAO,YAArB,KACA5I,EAAAC,EAAAC,cAAA,QAAM2H,MAAO,CAACe,MAAO,YAArB,KACA5I,EAAAC,EAAAC,cAAA,QAAM2H,MAAO,CAACe,MAAO,YAArB,KACA5I,EAAAC,EAAAC,cAAA,+CAEFF,EAAAC,EAAAC,cAAA,OAAK2I,SAAS,KACd7I,EAAAC,EAAAC,cAAC4I,EAAA,MAAD,CAAMC,WAAS,EAACC,OAAQtJ,KAAKI,MAAMkH,SAAU6B,SAAU,EACrDnD,UAAU,cACVuD,MAAO,KACPjJ,EAAAC,EAAAC,cAACgJ,EAAD,CACExD,UAAU,WACVkB,YAAalH,KAAKkH,YAClBT,OAAQzG,KAAKI,MAAM+D,QACnBN,MAAO7D,KAAKI,MAAMyD,MAClBD,YAAa5D,KAAK4D,YAAY6F,KAAKzJ,YAM3CM,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAACW,EAAD,CACEuI,IAAK,MACL1D,UAAU,cACV7B,QAASnE,KAAKI,MAAM+D,QACpBb,WAAYtD,KAAKI,MAAMkD,WACvBE,WAAYxD,KAAKI,MAAMoD,WACvBK,MAAO7D,KAAKI,MAAMyD,MAClBT,WAAYpD,KAAKoD,WACjBwC,OAAQ5F,KAAK4F,OACbjC,kBAAmB3D,KAAK2D,kBACxBN,aAAcrD,KAAKqD,aACnBgC,cAAerF,KAAKqF,cACpBoC,oBAAqBzH,KAAKyH,oBAC1BoB,mBAAoB7I,KAAK6I,mBACzBjF,YAAa5D,KAAK4D,uBA/KZjD,aCMZgJ,EAAcC,QACW,cAA7BhJ,OAAOiJ,SAASC,UAEe,UAA7BlJ,OAAOiJ,SAASC,UAEhBlJ,OAAOiJ,SAASC,SAASC,MACvB,2DAsCN,SAASC,EAAgBC,EAAOC,GAC9BC,UAAUC,cACPC,SAASJ,GACTnI,KAAK,SAAAwI,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBpK,QACf+J,UAAUC,cAAcO,YAI1BC,QAAQC,IACN,gHAKEX,GAAUA,EAAOY,UACnBZ,EAAOY,SAASR,KAMlBM,QAAQC,IAAI,sCAGRX,GAAUA,EAAOa,WACnBb,EAAOa,UAAUT,UAO5BpH,MAAM,SAAAxC,GACLkK,QAAQlK,MAAM,4CAA6CA,KC1FjEsK,IAASC,OAAO3K,EAAAC,EAAAC,cAAC0K,EAAD,MAASrD,SAASsD,eAAe,SDgB1C,SAAkBjB,GACvB,GAA6C,kBAAmBC,UAAW,CAGzE,GADkB,IAAIiB,IAAIrK,8CAAwBH,OAAOiJ,SAASwB,MACpDC,SAAW1K,OAAOiJ,SAASyB,OAIvC,OAGF1K,OAAO2K,iBAAiB,OAAQ,WAC9B,IAAMtB,EAAK,GAAA9H,OAAMpB,8CAAN,sBAEP4I,GAgEV,SAAiCM,EAAOC,GAEtCrI,MAAMoI,GACHnI,KAAK,SAAA0J,GAEJ,IAAMC,EAAcD,EAAShK,QAAQkK,IAAI,gBAEnB,MAApBF,EAASpJ,QACO,MAAfqJ,IAA8D,IAAvCA,EAAYvD,QAAQ,cAG5CiC,UAAUC,cAAcuB,MAAM7J,KAAK,SAAAwI,GACjCA,EAAasB,aAAa9J,KAAK,WAC7BlB,OAAOiJ,SAASgC,aAKpB7B,EAAgBC,EAAOC,KAG1BhH,MAAM,WACL0H,QAAQC,IACN,mEArFAiB,CAAwB7B,EAAOC,GAI/BC,UAAUC,cAAcuB,MAAM7J,KAAK,WACjC8I,QAAQC,IACN,+GAMJb,EAAgBC,EAAOC,MCvC/BE","file":"static/js/main.7a387897.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nclass ErrorBoundary extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { hasError: false };\r\n  }\r\n\r\n  static getDerivedStateFromError(error) {\r\n    return { hasError: true };\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return <h1>Something went wrong with Google Maps API.</h1>;\r\n    }\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary\r\n","import React, { Component } from 'react';\r\nimport { Map, GoogleApiWrapper } from 'google-maps-react';\r\nimport ErrorBoundary from './errorboundary';\r\n\r\nwindow.gm_authFailure = ()=>{\r\n  alert(\"Invalid Google API key. Please check your Google API key\");\r\n};\r\n\r\nconst googleMapsAPI = process.env.REACT_APP_googleMapsAPI;\r\n\r\nclass MapContainer extends Component {\r\n  componentDidMount() {\r\n    this.getEventInfo();\r\n  }\r\n\r\n  mapReady = (props,map) => {\r\n    //setTimeout is added to ensure that data from API is available in order to create the markers.\r\n    setTimeout(() => {\r\n      this.addMarkers(map);\r\n    }, 1300);\r\n  }\r\n  //fetch event info\r\n  getEventInfo = () => {\r\n    let searchResults = [];\r\n    const placeSearchUrl = \"https://api.myjson.com/bins/15lojm\"\r\n    let headers = new Headers();\r\n    let request = new Request(placeSearchUrl, {\r\n      method: 'GET',\r\n      headers\r\n    });\r\n\r\n    fetch(request).then(res => {\r\n      if (!res.ok) {\r\n        throw Error (`Request rejected with status code ${res.status}`);\r\n      } else {\r\n        return res.json()\r\n      }}).then(res => {\r\n      res.events.forEach((result, index)=> {\r\n        let event = {};\r\n        event.city = result.city;\r\n        event.name = result.name;\r\n        event.lat = result.lat;\r\n        event.lng = result.lng;\r\n        event.time = result.time;\r\n        event.host = result.host;\r\n        event.link = result.link;\r\n        searchResults.push(event);\r\n      });\r\n    }).catch(err=> {\r\n      alert(\"Something went wrong.\"+ err);\r\n    })\r\n    this.props.getResults(searchResults);\r\n  }\r\n\r\n  addMarkers(map) {\r\n    let markers = [];\r\n    const infoWindow = new this.props.google.maps.InfoWindow();\r\n\r\n    if(this.props.results){\r\n      for (let event of this.props.results){\r\n        const marker = new this.props.google.maps.Marker({\r\n          position: {lat: event.lat, lng: event.lng},\r\n          map: map,\r\n          title: event.name,\r\n          animation: 2  //Drop\r\n        });\r\n        markers.push(marker);\r\n        const infoContent = `<h4>${event.city}</h4><p>Venue: ${event.name}</p><p>Time: ${event.time}</p><p>Host: ${event.host}</p><a href=${event.link}>Event Page</a>`;\r\n        ['click', 'mouseover'].forEach(e => {\r\n          marker.addListener(e, ()=> {\r\n          if (marker.getAnimation() !== null) {\r\n            marker.setAnimation(null);\r\n          } else {\r\n            marker.setAnimation(1); //Bounce\r\n          }\r\n            infoWindow.setContent(infoContent);\r\n            infoWindow.open(map, marker);\r\n            this.props.onMarkerClick(event, marker, infoWindow);\r\n          }, false);\r\n        });\r\n        marker.addListener('mouseout', ()=>{\r\n          marker.setAnimation(null);\r\n          this.props.onInfoWindowClose();\r\n        })\r\n        infoWindow.addListener('closeclick', ()=>{\r\n          marker.setAnimation(null);\r\n          this.props.onInfoWindowClose();\r\n        })\r\n      }\r\n    }\r\n    this.props.getMap(markers, infoWindow, map, this.props.google);\r\n  }\r\n\r\n  onMapClicked = ()=>{\r\n    if(this.props.infoWindow){\r\n      this.props.infoWindow.close();\r\n    }\r\n    this.props.allMarkers.forEach(marker=>{\r\n      marker.setAnimation(null);\r\n    }, this.props.onInfoWindowClose)\r\n    this.props.updateQuery(this.props.query);\r\n  }\r\n\r\n  render() {\r\n    if(window.google){\r\n      return (\r\n        <ErrorBoundary>\r\n          <Map\r\n            aria-label=\"map\"\r\n            className=\"map\"\r\n            role=\"application\"\r\n            google={this.props.google}\r\n            initialCenter={{lat:39.011902, lng:-98.484246}}\r\n            onClick={this.onMapClicked}\r\n            onReady={this.mapReady}\r\n            zoom={4}>\r\n          </Map>\r\n        </ErrorBoundary>\r\n      )\r\n    } else {\r\n      return(\r\n        <div>Error loading Google Maps</div>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default GoogleApiWrapper({\r\n  apiKey: (`AIzaSyB8K2MYqSFftmrT_c8i1yG3uypVsrcutN4`)\r\n})(MapContainer)\r\n","import React from 'react';\r\n\r\nconst VenueList = (props) => {\r\n  const venues = props.venues;\r\n  return (\r\n    <div>\r\n    <label className=\"label\" htmlFor=\"searchBox\">Search Box</label>\r\n      <input\r\n        id=\"searchBox\"\r\n        type=\"text\"\r\n        placeholder=\"Type here to filter locations\"\r\n        value={props.query}\r\n        onChange={event => props.updateQuery(event.target.value)}\r\n      />\r\n      <ul className=\"venue-list\">\r\n      { venues && (venues.map((venue, index) =>\r\n        <li className=\"list-item\" key={index}>\r\n          <button\r\n            className=\"item\"\r\n            name={venue.city}\r\n            key={index}\r\n            onClick={event => props.onListClick(venue, index)}>{venue.city}\r\n          </button>\r\n        </li>\r\n      ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default VenueList;\r\n","import React, { Component } from 'react';\r\nimport './App.scss';\r\nimport { slide as Menu } from 'react-burger-menu';\r\nimport MapContainer from './Components/map'\r\nimport VenueList from './Components/venuelist'\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      activeMarker: {},\r\n      results: null,\r\n      allMarkers: [],\r\n      clickedPlace: null,\r\n      infoWindow: null,\r\n      map: null,\r\n      menuOpen: false,\r\n      placesOnList: \"\",\r\n      query: \"\",\r\n      showingInfoWindow: false\r\n    }\r\n  }\r\n\r\n  updateQuery = (input) => {\r\n    if(this.state.infoWindow){\r\n      this.state.infoWindow.close();\r\n      this.setState({\r\n        query: input,\r\n        menuOpen: true\r\n      }, this.filterList(input));\r\n    }\r\n  }\r\n\r\n  //when a list item is clicked on, save the item name, show marker for item and hide other markers\r\n  onListClick = (venue) => {\r\n    venue = [venue];\r\n    this.setState({\r\n      clickedPlace: venue,\r\n      menuOpen: false\r\n    })\r\n    //When setMarkerVisibility runs as a callback in the this.setState function above,\r\n    //it is still looking at the old this.state.clickedPlace.\r\n    //Using setTimeout to ensure clickedPlace has been updated.\r\n    setTimeout(()=> {\r\n      this.setMarkerVisibility([venue[0]]);\r\n    }, 100)\r\n  }\r\n\r\n  filterList = (input)=>{\r\n    const queryUpperCase = input.toUpperCase();\r\n    const items = document.querySelectorAll(\".item\");\r\n    let visiblePlaces = [];\r\n    items.forEach(item => {\r\n      //if text entered matches item from list, show item. If not, hide the item.\r\n      //Other possible code: items.filter(item=>{new RegExp(this.state.query,'i').exec(item.innerHTML)})\r\n      if (item.innerHTML.toUpperCase().indexOf(queryUpperCase) > -1) {\r\n        item.style.display = \"\";\r\n        const changeAmp = item.innerHTML.replace(/&amp;/, \"&\");\r\n        visiblePlaces.push(changeAmp.trim());\r\n      } else {\r\n        item.style.display = \"none\";\r\n      }\r\n    });\r\n    this.setState({\r\n      placesOnList: visiblePlaces\r\n    }, this.setMarkerVisibility(visiblePlaces))\r\n  }\r\n\r\n  setMarkerVisibility = (venue) => {\r\n    this.state.allMarkers.find(marker => {\r\n      //If list item hasn't been clicked, show markers currently visible on list\r\n      if (venue.includes(marker.title.trim())){\r\n        return marker.setVisible(true);\r\n      } else if (this.state.clickedPlace){\r\n        //If list item is clicked, show corresponding marker\r\n          if ([venue[0].name].includes(marker.title.trim())){\r\n            this.setState({\r\n              activeMarker: marker\r\n            })\r\n            return this.triggerMarkerClick();\r\n          } else {\r\n            return false\r\n          }\r\n      } else {\r\n        return marker.setVisible(false);\r\n      }\r\n    });\r\n  }\r\n\r\n  triggerMarkerClick = ()=> {\r\n    this.state.google.maps.event.trigger(this.state.activeMarker, 'click');\r\n  }\r\n\r\n  onMarkerClick = (props, marker, infoWindow) => {\r\n    this.state.allMarkers.forEach((mkr)=>{\r\n      if(marker.title !== mkr.title){\r\n        mkr.setAnimation(null);\r\n      }\r\n    });\r\n    this.setState({\r\n      activeMarker: marker,\r\n      clickedPlace: props,\r\n      infoWindow: infoWindow,\r\n      menuOpen: false,\r\n      showingInfoWindow: true\r\n    });\r\n  }\r\n\r\n  onInfoWindowClose = () => {\r\n    this.setState({\r\n      activeMarker: {},\r\n      clickedPlace: null,\r\n      infoWindow: null,\r\n      menuOpen: false,\r\n      showingInfoWindow: false,\r\n    }, this.showAllMarkers)\r\n  }\r\n\r\n  showAllMarkers = ()=> {\r\n    this.state.allMarkers.forEach(marker => {\r\n      marker.setVisible(true);\r\n    });\r\n  }\r\n\r\n  getMap = (markers, infoWindow, map, google) => {\r\n    this.setState({\r\n      allMarkers: markers,\r\n      infoWindow: infoWindow,\r\n      map: map,\r\n      google: google\r\n    })\r\n  }\r\n\r\n  getResults = (searchResults) => {\r\n    this.setState({\r\n      results: searchResults\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <nav className=\"App-header\" role=\"navigation\">\r\n          <header>\r\n            <p>\r\n              <span style={{color: \"#3cba54\"}}>G</span>\r\n              <span style={{color: \"#db3236\"}}>r</span>\r\n              <span style={{color: \"#f4c20d\"}}>o</span>\r\n              <span style={{color: \"#4885ed\"}}>w</span>\r\n              <span> With Google Graduation Events</span>\r\n            </p>\r\n            <div tabIndex=\"0\">\r\n            <Menu noOverlay isOpen={this.state.menuOpen} tabIndex={0}\r\n              className=\"burger-menu\"\r\n              width={300} >\r\n              <VenueList\r\n                className=\"map-list\"\r\n                onListClick={this.onListClick}\r\n                venues={this.state.results}\r\n                query={this.state.query}\r\n                updateQuery={this.updateQuery.bind(this)}\r\n              />\r\n            </Menu>\r\n            </div>\r\n          </header>\r\n        </nav>\r\n        <main>\r\n          <MapContainer\r\n            ref={\"map\"}\r\n            className=\"map-wrapper\"\r\n            results={this.state.results}\r\n            infoWindow={this.state.infoWindow}\r\n            allMarkers={this.state.allMarkers}\r\n            query={this.state.query}\r\n            getResults={this.getResults}\r\n            getMap={this.getMap}\r\n            onInfoWindowClose={this.onInfoWindowClose}\r\n            onMapClicked={this.onMapClicked}\r\n            onMarkerClick={this.onMarkerClick}\r\n            setMarkerVisibility={this.setMarkerVisibility}\r\n            triggerMarkerClick={this.triggerMarkerClick}\r\n            updateQuery={this.updateQuery}\r\n          />\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}