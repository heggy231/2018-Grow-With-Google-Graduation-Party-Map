(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports=n(54)},20:function(e,t,n){},22:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),i=n(3),r=n.n(i),l=(n(20),n(4)),s=n(5),c=n(7),u=n(6),p=n(8),d=(n(22),n(14)),h=n(11),f=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={hasError:!1},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.state.hasError?a.a.createElement("h1",null,"Something went wrong with Google Maps API."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(o.Component);window.gm_authFailure=function(){alert("Invalid Google API key. Please check your Google API key")};Object({NODE_ENV:"production",PUBLIC_URL:"/2018-Grow-With-Google-Graduation-Party-Map"}).REACT_APP_googleMapsAPI;var m=function(e){function t(){var e,n;Object(l.a)(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).mapReady=function(e,t){setTimeout(function(){n.addMarkers(t)},1300)},n.getEventInfo=function(){var e=[],t=new Headers,o=new Request("https://api.myjson.com/bins/15lojm",{method:"GET",headers:t});fetch(o).then(function(e){if(e.ok)return e.json();throw Error("Request rejected with status code ".concat(e.status))}).then(function(t){t.events.forEach(function(t,n){var o={};o.city=t.city,o.name=t.name,o.lat=t.lat,o.lng=t.lng,o.time=t.time,o.host=t.host,o.link=t.link,e.push(o)})}).catch(function(e){alert("Something went wrong."+e)}),n.props.getResults(e)},n.onMapClicked=function(){n.props.infoWindow&&n.props.infoWindow.close(),n.props.allMarkers.forEach(function(e){e.setAnimation(null)},n.props.onInfoWindowClose),n.props.updateQuery(n.props.query)},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getEventInfo()}},{key:"addMarkers",value:function(e){var t=this,n=[],o=new this.props.google.maps.InfoWindow;if(this.props.results){var a=!0,i=!1,r=void 0;try{for(var l,s=function(){var a=l.value,i=new t.props.google.maps.Marker({position:{lat:a.lat,lng:a.lng},map:e,title:a.name,animation:2});n.push(i);var r="<h4>".concat(a.city,"</h4><p>Venue: ").concat(a.name,"</p><p>Time: ").concat(a.time,"</p><p>Host: ").concat(a.host,"</p><a href=").concat(a.link,">Event Page</a>");["click","mouseover"].forEach(function(n){i.addListener(n,function(){null!==i.getAnimation()?i.setAnimation(null):i.setAnimation(1),o.setContent(r),o.open(e,i),t.props.onMarkerClick(a,i,o),t.props.showWindow()},!1)}),o.addListener("closeclick",function(){i.setAnimation(null),t.props.onInfoWindowClose()})},c=this.props.results[Symbol.iterator]();!(a=(l=c.next()).done);a=!0)s()}catch(u){i=!0,r=u}finally{try{a||null==c.return||c.return()}finally{if(i)throw r}}}this.props.getMap(n,o,e,this.props.google)}},{key:"render",value:function(){return window.google?a.a.createElement(f,null,a.a.createElement(h.Map,{"aria-label":"map",className:"map",role:"application",google:this.props.google,initialCenter:{lat:39.011902,lng:-98.484246},onClick:this.onMapClicked,onReady:this.mapReady,zoom:4})):a.a.createElement("div",null,"Error loading Google Maps")}}]),t}(o.Component),g=Object(h.GoogleApiWrapper)({apiKey:"AIzaSyB8K2MYqSFftmrT_c8i1yG3uypVsrcutN4"})(m),w=function(e){var t=e.venues;return a.a.createElement("div",null,a.a.createElement("label",{className:"label",htmlFor:"searchBox"},"Search Box"),a.a.createElement("input",{id:"searchBox",type:"text",placeholder:"Type here to filter locations",value:e.query,onChange:function(t){return e.updateQuery(t.target.value)}}),a.a.createElement("ul",{className:"venue-list"},t&&t.map(function(t,n){return a.a.createElement("li",{className:"list-item",key:n},a.a.createElement("button",{className:"item",name:t.city,key:n,onClick:function(o){return e.onListClick(t,n)}},t.city))})))},k=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).updateQuery=function(e){n.state.showingInfoWindow&&(n.state.infoWindow.close(),n.setState({query:e,menuOpen:!0},n.filterList(e)))},n.onListClick=function(e){e=[e],n.setState({clickedPlace:e,menuOpen:!1}),setTimeout(function(){n.setMarkerVisibility([e[0]])},100)},n.filterList=function(e){var t=e.toUpperCase(),o=document.querySelectorAll(".item"),a=[];o.forEach(function(e){if(e.innerHTML.toUpperCase().indexOf(t)>-1){e.style.display="";var n=e.innerHTML.replace(/&amp;/,"&");a.push(n.trim())}else e.style.display="none"}),n.setState({placesOnList:a},n.setMarkerVisibility(a))},n.setMarkerVisibility=function(e){n.state.allMarkers.find(function(t){return e.includes(t.title.trim())?t.setVisible(!0):n.state.clickedPlace?!![e[0].name].includes(t.title.trim())&&(n.setState({activeMarker:t}),n.triggerMarkerClick()):t.setVisible(!1)})},n.triggerMarkerClick=function(){n.state.google.maps.event.trigger(n.state.activeMarker,"click")},n.onMarkerClick=function(e,t,o){n.state.allMarkers.forEach(function(e){t.title!==e.title&&e.setAnimation(null)}),n.setState({activeMarker:t,clickedPlace:e,infoWindow:o,menuOpen:!1,showingInfoWindow:!0})},n.onInfoWindowClose=function(){n.setState({activeMarker:{},clickedPlace:null,infoWindow:null,menuOpen:!1,showingInfoWindow:!1},n.showAllMarkers)},n.showAllMarkers=function(){n.state.allMarkers.forEach(function(e){e.setVisible(!0)})},n.getMap=function(e,t,o,a){n.setState({allMarkers:e,infoWindow:t,map:o,google:a})},n.getResults=function(e){n.setState({results:e})},n.showWindow=function(){n.setState({showingInfoWindow:!0})},n.state={activeMarker:{},results:null,allMarkers:[],clickedPlace:null,infoWindow:null,map:null,menuOpen:!1,placesOnList:"",query:"",showingInfoWindow:!1},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement("nav",{className:"App-header",role:"navigation"},a.a.createElement("header",null,a.a.createElement("p",null,a.a.createElement("span",{style:{color:"#3cba54"}},"G"),a.a.createElement("span",{style:{color:"#db3236"}},"r"),a.a.createElement("span",{style:{color:"#f4c20d"}},"o"),a.a.createElement("span",{style:{color:"#4885ed"}},"w"),a.a.createElement("span",null," With Google Graduation Events")),a.a.createElement("div",{tabIndex:"0"},a.a.createElement(d.slide,{noOverlay:!0,isOpen:this.state.menuOpen,tabIndex:0,className:"burger-menu",width:300},a.a.createElement(w,{className:"map-list",onListClick:this.onListClick,venues:this.state.results,query:this.state.query,updateQuery:this.updateQuery.bind(this)}))))),a.a.createElement("main",null,a.a.createElement(g,{ref:"map",className:"map-wrapper",results:this.state.results,infoWindow:this.state.infoWindow,allMarkers:this.state.allMarkers,query:this.state.query,getResults:this.getResults,getMap:this.getMap,onInfoWindowClose:this.onInfoWindowClose,onMapClicked:this.onMapClicked,onMarkerClick:this.onMarkerClick,setMarkerVisibility:this.setMarkerVisibility,triggerMarkerClick:this.triggerMarkerClick,updateQuery:this.updateQuery,showWindow:this.showWindow})))}}]),t}(o.Component),y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function v(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(a.a.createElement(k,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/2018-Grow-With-Google-Graduation-Party-Map",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/2018-Grow-With-Google-Graduation-Party-Map","/service-worker.js");y?(function(e,t){fetch(e).then(function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):v(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):v(t,e)})}}()}},[[15,2,1]]]);
//# sourceMappingURL=main.c6d7bfdf.chunk.js.map